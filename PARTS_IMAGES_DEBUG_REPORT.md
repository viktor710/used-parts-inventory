# üîç –û—Ç—á–µ—Ç –æ–± –æ—Ç–ª–∞–¥–∫–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∑–∞–ø—á–∞—Å—Ç–µ–π

## üéØ –ü—Ä–æ–±–ª–µ–º–∞
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–æ–±—â–∏–ª, —á—Ç–æ "–Ω–µ —á–µ –Ω–µ –ø–æ–º–µ–Ω—è–ª–æ—Å—å –≥–¥–µ –æ–¥–Ω–æ —Ñ–æ—Ç–æ –ø–æ–∫–∞–∑–≤–∞–µ—Ç –¥–≤–∞ –≥–¥–µ –¥–≤–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç—Ä–∏" - —Ç–æ –µ—Å—Ç—å –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ.

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –±–∞–∑–µ
–ó–∞–ø—É—Å—Ç–∏–ª–∏ —Å–∫—Ä–∏–ø—Ç `scripts/check-images.ts` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö:

```
üìä –ù–∞–π–¥–µ–Ω–æ –∑–∞–ø—á–∞—Å—Ç–µ–π: 8
üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:
   - 1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ: 2 –∑–∞–ø—á–∞—Å—Ç–µ–π
   - 2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: 3 –∑–∞–ø—á–∞—Å—Ç–µ–π  
   - 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è: 3 –∑–∞–ø—á–∞—Å—Ç–µ–π
   - 4+ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 0 –∑–∞–ø—á–∞—Å—Ç–µ–π
```

**–í—ã–≤–æ–¥**: –î–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ.

### 2. –ê–Ω–∞–ª–∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ ImageGallery
–û–±–Ω–∞—Ä—É–∂–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ –≤ —Ñ—É–Ω–∫—Ü–∏–∏ `getGridClass()`:

```tsx
// –ü–†–û–ë–õ–ï–ú–ê: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ previewImages.length –≤–º–µ—Å—Ç–æ images.length
const getGridClass = () => {
  const count = previewImages.length; // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ
  // ...
};

// –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï: –∏—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
const getGridClass = () => {
  const count = images.length; // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ
  // ...
};
```

**–ü—Ä–æ–±–ª–µ–º–∞**: `previewImages` - —ç—Ç–æ —Å—Ä–µ–∑ –æ—Ç `maxPreview`, –ø–æ—ç—Ç–æ–º—É –¥–ª—è 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å `maxPreview=3` –ø–æ–ª—É—á–∞–ª–æ—Å—å `previewImages.length=3`, –∞ –¥–ª—è 2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Å `maxPreview=3` –ø–æ–ª—É—á–∞–ª–æ—Å—å `previewImages.length=2`.

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
–î–æ–±–∞–≤–∏–ª–∏ –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

```tsx
// –í ImageGallery
console.log('üîß [DEBUG] ImageGallery: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:', count, '–°–µ—Ç–∫–∞:', gridClass);

// –í PartCard
console.log('üîß [DEBUG] PartCard: –ó–∞–ø—á–∞—Å—Ç—å:', part.zapchastName, '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:', part.images.length);

// –í PartsPage
partsResult.data.data.forEach((part: Part, index: number) => {
  console.log(`üîß [DEBUG] PartsPage: –ó–∞–ø—á–∞—Å—Ç—å ${index + 1}:`, {
    name: part.zapchastName,
    imagesCount: part.images.length,
    images: part.images
  });
});
```

### 4. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
–°–æ–∑–¥–∞–ª–∏ `TestImageDisplay.tsx` –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

```tsx
export const TestImageDisplay: React.FC<TestImageDisplayProps> = ({ images, title }) => {
  console.log(`üîß [DEBUG] TestImageDisplay: ${title}`, {
    imagesCount: images.length,
    images: images
  });

  return (
    <div className="border-2 border-red-500 p-4 mb-4">
      <h3>{title}</h3>
      <p>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: {images.length}</p>
      
      {images.length === 1 ? (
        <div>
          <p>–ò—Å–ø–æ–ª—å–∑—É–µ–º PartImage:</p>
          <PartImage images={images} aspectRatio="video" />
        </div>
      ) : (
        <div>
          <p>–ò—Å–ø–æ–ª—å–∑—É–µ–º ImageGallery:</p>
          <ImageGallery images={images} maxPreview={3} showCount={true} />
        </div>
      )}
    </div>
  );
};
```

## ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ ImageGallery
```tsx
// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–ª–∞—Å—Å—ã —Å–µ—Ç–∫–∏ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
const getGridClass = () => {
  const count = images.length; // ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–æ–ª–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
  
  // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  console.log('üîß [DEBUG] ImageGallery: –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:', count, '–°–µ—Ç–∫–∞:', 
    count === 1 ? 'grid-cols-1' : 
    count === 2 ? 'grid-cols-2' : 
    count === 3 ? 'grid-cols-2 md:grid-cols-3' : 
    'grid-cols-2 md:grid-cols-3 lg:grid-cols-4'
  );
  
  if (count === 1) {
    return 'grid-cols-1';
  } else if (count === 2) {
    return 'grid-cols-2';
  } else if (count === 3) {
    return 'grid-cols-2 md:grid-cols-3';
  } else {
    return 'grid-cols-2 md:grid-cols-3 lg:grid-cols-4';
  }
};
```

### 2. –£–ª—É—á—à–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ PartCard
```tsx
{(() => {
  // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
  console.log('üîß [DEBUG] PartCard: –ó–∞–ø—á–∞—Å—Ç—å:', part.zapchastName, '–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π:', part.images.length);
  
  if (part.images.length === 1) {
    console.log('üîß [DEBUG] PartCard: –ò—Å–ø–æ–ª—å–∑—É–µ–º PartImage –¥–ª—è –æ–¥–Ω–æ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è');
    return <PartImage ... />;
  } else {
    console.log('üîß [DEBUG] PartCard: –ò—Å–ø–æ–ª—å–∑—É–µ–º ImageGallery –¥–ª—è', part.images.length, '–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π');
    return <ImageGallery ... />;
  }
})()}
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤
–î–æ–±–∞–≤–∏–ª–∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `/parts` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

```tsx
{/* –¢–µ—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è */}
<div className="mt-12 border-t-4 border-blue-500 pt-8">
  <h2>üß™ –¢–µ—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è</h2>
  
  {/* –¢–µ—Å—Ç —Å –æ–¥–Ω–∏–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º */}
  <TestImageDisplay
    images={['https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop']}
    title="–¢–µ—Å—Ç: 1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ"
  />
  
  {/* –¢–µ—Å—Ç —Å –¥–≤—É–º—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ */}
  <TestImageDisplay
    images={[
      'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop',
      'https://images.unsplash.com/photo-1562141964-3d5d5b5b5b5b?w=800&h=600&fit=crop'
    ]}
    title="–¢–µ—Å—Ç: 2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"
  />
  
  {/* –¢–µ—Å—Ç —Å —Ç—Ä–µ–º—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ */}
  <TestImageDisplay
    images={[
      'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop',
      'https://images.unsplash.com/photo-1562141964-3d5d5b5b5b5b?w=800&h=600&fit=crop',
      'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=800&h=600&fit=crop'
    ]}
    title="–¢–µ—Å—Ç: 3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"
  />
</div>
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞
```bash
Remove-Item -Recurse -Force .next
npm run dev
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–±–æ—Ä–∫–∏
```bash
npm run build
# ‚úÖ –£—Å–ø–µ—à–Ω–æ
```

### –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
–¢–µ–ø–µ—Ä—å –ª–æ–≥–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

1. **1 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ** ‚Üí `PartImage` —Å `grid-cols-1`
2. **2 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** ‚Üí `ImageGallery` —Å `grid-cols-2`
3. **3 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** ‚Üí `ImageGallery` —Å `grid-cols-2 md:grid-cols-3`
4. **4+ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π** ‚Üí `ImageGallery` —Å `grid-cols-2 md:grid-cols-3 lg:grid-cols-4`

## üìä –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã

- ‚úÖ `components/ui/ImageGallery.tsx` - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ `getGridClass()`
- ‚úÖ `app/parts/page.tsx` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ —Ç–µ—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏
- ‚úÖ `components/ui/TestImageDisplay.tsx` - —Å–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
- ‚úÖ `scripts/check-images.ts` - —Å–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ** - –æ—Ç–∫—Ä—ã—Ç—å `/parts` –∏ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏
2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å** - –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏
3. **–£–¥–∞–ª–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ –±–ª–æ–∫–∏** - –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–±–æ—Ç—ã
4. **–£–±—Ä–∞—Ç—å –æ—Ç–ª–∞–¥–æ—á–Ω—ã–µ –ª–æ–≥–∏** - –ø–æ—Å–ª–µ —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑–µ
npx tsx scripts/check-images.ts

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run dev

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É
npm run build
```

–ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ `previewImages.length` –≤–º–µ—Å—Ç–æ `images.length` –≤ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å–µ—Ç–∫–∏! üéâ
